<!DOCTYPE HTML>
<html>
<head>
	<meta charset="utf-8">
	<title>  
	  
  	考试题 - 笔记仓库
  	
	</title>

  <meta name="HandheldFriendly" content="True">
  <meta name="MobileOptimized" content="320">
  <meta name="viewport" content="width=device-width, initial-scale=1">

	<link href="atom.xml" rel="alternate" title="笔记仓库" type="application/atom+xml">

	<link href="asset/stylesheets/screen.css" media="screen, projection" rel="stylesheet" type="text/css">
	<link href="asset/stylesheets/font-awesome.min.css" media="screen, projection" rel="stylesheet" type="text/css">
	<script src="asset/javascripts/jquery.min.js"></script>
	<script src="asset/highlightjs/highlight.pack.js"></script>
	<link href="asset/highlightjs/styles/solarized_dark.css" media="screen, projection" rel="stylesheet" type="text/css">
<script>hljs.initHighlightingOnLoad();</script>

	<!--[if lt IE 9]><script src="asset/javascripts/html5.js"></script><![endif]-->
	<!-- <link href='http://fonts.googleapis.com/css?family=Nunito:400,300,700' rel='stylesheet' type='text/css'> -->
	<style type="text/css">
/* latin */
@font-face {
  font-family: 'Nunito';
  font-style: normal;
  font-weight: 300;
  src: local('Nunito-Light'), url(asset/font/1TiHc9yag0wq3lDO9cw0voX0hVgzZQUfRDuZrPvH3D8.woff2) format('woff2');
  unicode-range: U+0000-00FF, U+0131, U+0152-0153, U+02C6, U+02DA, U+02DC, U+2000-206F, U+2074, U+20AC, U+2212, U+2215, U+E0FF, U+EFFD, U+F000;
}
/* latin */
@font-face {
  font-family: 'Nunito';
  font-style: normal;
  font-weight: 400;
  src: local('Nunito-Regular'), url(asset/font/6TbRXKWJjpj6V2v_WyRbMX-_kf6ByYO6CLYdB4HQE-Y.woff2) format('woff2');
  unicode-range: U+0000-00FF, U+0131, U+0152-0153, U+02C6, U+02DA, U+02DC, U+2000-206F, U+2074, U+20AC, U+2212, U+2215, U+E0FF, U+EFFD, U+F000;
}
/* latin */
@font-face {
  font-family: 'Nunito';
  font-style: normal;
  font-weight: 700;
  src: local('Nunito-Bold'), url(asset/font/TttUCfJ272GBgSKaOaD7KoX0hVgzZQUfRDuZrPvH3D8.woff2) format('woff2');
  unicode-range: U+0000-00FF, U+0131, U+0152-0153, U+02C6, U+02DA, U+02DC, U+2000-206F, U+2074, U+20AC, U+2212, U+2215, U+E0FF, U+EFFD, U+F000;
}
	</style>
	
	<style type="text/css">
	.container .left-col{ opacity: 1;}
	#pagenavi a{ font-size: 1.3em;}
	#pagenavi .next:before{ top: 3px;}
	#pagenavi .prev:before{ top: 3px;}
	.container .mid-col .mid-col-container #content .archives .title{ font-size: 1.5em;}
	.container .mid-col .mid-col-container #content article{ padding: 15px 0px;}
	#header .subtitle {
		line-height: 1.2em;
		padding-top: 8px;
	}
	article pre{ background: none; border: none; padding: 0;}
	article .entry-content{text-align: left;}
	.share-comment{ padding: 25px 0px; clear: both;}
	hr{ margin: 20px 0px;border: 0; border-top:solid 1px #ddd;}

	</style>
  

</head>


<body>
	<div class="container">
		<div class="left-col">
			<div class="intrude-less">
				<header id="header" class="inner">
				 
					
					<h1><a href="index.html">笔记仓库</a></h1>
					<p class="subtitle"></p>
					<nav id="main-nav">
						<ul class="main">
						
						  <li id=""><a target="_self" href="index.html">主页</a></li>
						
						  <li id=""><a target="_self" href="note.html">基础学习笔记</a></li>
						
						  <li id=""><a target="_self" href="other.html">扩展笔记</a></li>
						
						  <li id=""><a target="_self" href="Principle.html">十五个必会的原理知识</a></li>
						
						  <li id=""><a target="_self" href="command.html">Linux常用命令简明列表</a></li>
						
						  <li id=""><a target="_self" href="archives.html">最近更新</a></li>
						
						  <li id=""><a target="_self" href="love.html">甜蜜回忆</a></li>
						
						</ul>
					</nav>

					<nav id="sub-nav">
						<div class="social">













								

								<a class="rss" href="atom.xml" title="RSS">RSS</a>
							
						</div>
					</nav>
				</header>				
			</div>
		</div>	
		<div class="mid-col">
			<div class="mid-col-container"> <div id="content" class="inner">
<div itemscope itemtype="http://schema.org/Blog">


	<article class="post" itemprop="blogPost" itemscope itemtype="http://schema.org/BlogPosting">
		<div class="meta">
			<div class="date">
				<time datetime="2017-07-29T16:44:44+08:00" itemprop="datePublished">2017/7/29</time>
			</div>
			<div class="tags">posted in 
			
			    <a class='category' href='%E8%80%83%E8%AF%95%E9%A2%98.html'>考试题</a>&nbsp;
			 
			</div>
		</div>
		<h1 class="title" itemprop="name"><a href="15013178849284.html" itemprop="url">
		期中架构之前复习考试</a></h1>
		<div class="entry-content" itemprop="articleBody">
			
			<h1 id="toc_0">目录</h1>

<ul>
<li>
<a href="#toc_0">目录</a>
<ul>
<li>
<a href="#toc_1">01. 向oldboy.txt加入内容 &quot;I love studying Linux.&quot; (不少于3种方法)</a>
</li>
<li>
<a href="#toc_2">02. 说说这些特殊符号含义:  </a>
</li>
<li>
<a href="#toc_3">03. 要求在使用rm命令的时候提示command not found,如何实现？</a>
</li>
<li>
<a href="#toc_4">04. 查找出/data目录下所有以.txt结尾的文件，并且把文件中的trainning修改为oldboy.</a>
</li>
<li>
<a href="#toc_5">05. test.txt文件内容如下，要求输出时候不显示trainning。(最少3中方法)</a>
</li>
<li>
<a href="#toc_6">06. 查找/oldboy目录下所有7天以前的，以log结尾的，并且大于1M的文件，把这些文件移动到/tmp下.</a>
</li>
<li>
<a href="#toc_7">07. 写定时任务,每天晚上12点删除/var/spool/postfix/maildrop/ 目录下7天以前的文件。</a>
</li>
<li>
<a href="#toc_8">08. 如何查看是否开启22，及查看sshd进程是否存在？</a>
</li>
<li>
<a href="#toc_9">09. 列举出linux常用打包压缩工具及其压缩解压参数。</a>
</li>
<li>
<a href="#toc_10">10. 将/etc/目录打包压缩放在/backup目录，并且要求每天备份的文件名不同，请问如何做？</a>
</li>
<li>
<a href="#toc_11">11. 让linux开机自启动某个软件/服务有哪些方法？</a>
</li>
<li>
<a href="#toc_12">12. 如果向磁盘写入数据提示如下错误：No space left on device，通过df -h查看磁盘空间，发现没满，请问可能原因是什么？ </a>
</li>
<li>
<a href="#toc_13">13. 批量创建10个用户stu01-stu10，并且设置随机 8位密码，位密码，要求不能用shell循环（例如：for,while等），只能用命令及管道实现</a>
</li>
<li>
<a href="#toc_14">14. 添加一个用户mysql指定uid为888，禁止登陆并且不创建家目录</a>
</li>
<li>
<a href="#toc_15">15. 请说出linux系统从开机打开电源到进入登录界面整个过程。</a>
</li>
</ul>
</li>
<li>
<a href="#toc_16">16. Sed考试题</a>
<ul>
<li>
<a href="#toc_17"><strong>文件内容如下：</strong></a>
</li>
<li>
<a href="#toc_18">16.1. 删除文件中的空行及#号开头的行（sed命令）</a>
</li>
<li>
<a href="#toc_19">16.2. 替换shutdown为SHUTDOWN</a>
</li>
<li>
<a href="#toc_20">16.3. 删除头三行</a>
</li>
</ul>
</li>
<li>
<a href="#toc_21">17. Shell面试题：根据题意写出对应表达式。</a>
<ul>
<li>
<a href="#toc_22">17.1. 判断/data目录是否存在，存在则进入目录并查看文件属性。</a>
</li>
<li>
<a href="#toc_23">17.2. 判断/etc/hosts文件是否存在，存在则将文件复制到/tmp目录下。</a>
</li>
</ul>
</li>
</ul>


<h2 id="toc_1">01. 向oldboy.txt加入内容 &quot;I love studying Linux.&quot; (不少于3种方法)</h2>

<p>方法一</p>

<pre><code>[root@oldboy38niubility ~]# vim oldboy
I love studying Linux.
~                                                                                                                        
~                                                                                                                                                                                                                                           
~                                                                                                                        
&quot;oldboy&quot; [New] 1L, 23C written
</code></pre>

<p>方法二</p>

<pre><code>[root@oldboy38niubility ~]# echo &quot;I love studying Linux.&quot; &gt; oldboy.txt 
[root@oldboy38niubility ~]# cat oldboy.txt 
I love studying Linux.
</code></pre>

<p>方法三</p>

<pre><code>[root@oldboy38niubility ~]# cat &gt; oldboy.txt &lt;&lt;EOF
&gt; I love studying Linux.
&gt; EOF
[root@oldboy38niubility ~]# cat oldboy.txt 
I love studying Linux.
</code></pre>

<h2 id="toc_2">02. 说说这些特殊符号含义:  </h2>

<p><code>~  .  ..  |  &gt;  &gt;&gt;  &lt;  &lt;&lt;  #</code></p>

<pre><code>~   当前用户的家目录
.   表示当前目录（位置）
..  表示当前目录（位置）的上一级目录（位置）
|   管道符 把管道前面执行完的结果交给管道后面的命令处理
&gt;   输出重定向
&gt;&gt;  追加输出重定向
&lt;   输入重定向
&lt;&lt;  追加输入重定向
#   注释符号
</code></pre>

<h2 id="toc_3">03. 要求在使用rm命令的时候提示command not found,如何实现？</h2>

<p><code>临时生效:</code></p>

<pre><code>alias rm=&#39;echo rm command is not allowed to use&#39;
</code></pre>

<p><code>永久生效:</code></p>

<pre><code>echo &quot;alias rm=&#39;echo rm command is not allowed to use&#39;&quot; &gt;&gt; /etc/profile
source /etc/profile
</code></pre>

<h2 id="toc_4">04. 查找出/data目录下所有以.txt结尾的文件，并且把文件中的trainning修改为oldboy.</h2>

<pre><code>find /data -type f -name &quot;*.txt&quot;|xargs sed &quot;s#trainning#oldboy#g&quot;
</code></pre>

<h2 id="toc_5">05. test.txt文件内容如下，要求输出时候不显示trainning。(最少3中方法)</h2>

<p><code>trainning<br/>
fanbingbing<br/>
oldboy</code></p>

<pre><code>方法一
tail -2 test.txt
方法二
egrep -v trainning test.txt
方法三
sed -n &#39;2,3p&#39; test.txt
方法四
sed &#39;1d&#39; test.txt
方法五
sed &#39;/trainning/d&#39; test.txt
方法六
awk &#39;/trainning/d&#39; test.txt
</code></pre>

<h2 id="toc_6">06. 查找/oldboy目录下所有7天以前的，以log结尾的，并且大于1M的文件，把这些文件移动到/tmp下.</h2>

<pre><code>find /oldboy -type d -mtime +7 -name &quot;*log&quot; -size +1M |xargs mv -t /tmp
</code></pre>

<h2 id="toc_7">07. 写定时任务,每天晚上12点删除/var/spool/postfix/maildrop/ 目录下7天以前的文件。</h2>

<pre><code>cd /server/scripts/
vim del.sh
find /var/spool/postfix/maildrop -type f -mtime +7 |xargs \rm -rf
  :wq!
crontab -e 
00 00 * * * /bin/sh     /server/scripts/del.sh &amp;&gt;/dev/null
</code></pre>

<h2 id="toc_8">08. 如何查看是否开启22，及查看sshd进程是否存在？</h2>

<pre><code>netstat -lntup|grep 22
ss -lntup|grep 22
ps -ef|grep sshd
</code></pre>

<h2 id="toc_9">09. 列举出linux常用打包压缩工具及其压缩解压参数。</h2>

<pre><code>压缩 tar zcf    解压 tar xf
-z  gunzip 压缩
-c  create
-f  file
-x 解压
-c 指定压缩路径
-t list 查看
-P 取消自动去掉/的功能
--exclude 排除
</code></pre>

<h2 id="toc_10">10. 将/etc/目录打包压缩放在/backup目录，并且要求每天备份的文件名不同，请问如何做？</h2>

<pre><code>tar -zcf /backup/etc.$(date +%F).tar.gz  /etc
</code></pre>

<h2 id="toc_11">11. 让linux开机自启动某个软件/服务有哪些方法？</h2>

<pre><code>###第一个里程碑  进入服务管理文件夹 创建一个脚本并给予执行权限X
[root@oldboy38niubility ~]# cd /etc/init.d/
[root@oldboy38niubility init.d]# touch xzp
[root@oldboy38niubility init.d]# chmod +x xzp
###第二个里程碑  编辑脚本 添加 给予运行级别2345 和开启17 关闭顺序95
[root@oldboy38niubility init.d]# vim xzp
#!/bin/bash
# chkconfig: 2345 17 95
# description: xzp service
echo xzp
~                                                                                                                    
~                                                                                                                        
~                                                                                                                        
&quot;xzp&quot; 4L, 72C written~    
####第三个里程碑   把创建好的脚本通过chkconfig --add 添加到chkconfig 里
[root@oldboy38niubility init.d]# chkconfig --add xzp  
####第四个里程碑    测试重启xzp服务
[root@oldboy38niubility init.d]# /etc/init.d/xzp restart
xzp
[root@oldboy38niubility init.d]#chkconfig xzp on
####第五个里程碑  list查看xzp服务
[root@oldboy38niubility init.d]# chkconfig --list|grep xzp
xzp             0:off   1:off   2:on    3:on    4:on    5:on    6:off    
</code></pre>

<h2 id="toc_12">12. 如果向磁盘写入数据提示如下错误：No space left on device，通过df -h查看磁盘空间，发现没满，请问可能原因是什么？ </h2>

<pre><code>inode 满了
</code></pre>

<h2 id="toc_13">13. 批量创建10个用户stu01-stu10，并且设置随机 8位密码，位密码，要求不能用shell循环（例如：for,while等），只能用命令及管道实现</h2>

<pre><code>echo stu{01..10}|xargs -n1|sed &#39;s#.*#useradd &amp;;uuidgen|cut -c -8&gt;/passwd&amp;.txt;cat /passwd&amp;.txt|password --stdin &amp; &gt;/dev/null 2&gt;\&amp;1#g&#39;|bash
</code></pre>

<h2 id="toc_14">14. 添加一个用户mysql指定uid为888，禁止登陆并且不创建家目录</h2>

<pre><code>useradd -u 888 -s /sbin/nologin -M mysql
</code></pre>

<h2 id="toc_15">15. 请说出linux系统从开机打开电源到进入登录界面整个过程。</h2>

<pre><code>电源打开
BIOS自检
MBR引导
GRUB菜单
内核加载kernel
运行init进程
读取/etc/inittab配置文件
执行/etc/rc.d/rc.sysinit脚本
执行/etc/rc.d/rc3.d脚本根据运行级别定一般为3文本模式
启动mingetty进程进入系统登录界面
</code></pre>

<h1 id="toc_16">16. Sed考试题</h1>

<h2 id="toc_17"><strong>文件内容如下：</strong></h2>

<pre><code>[root@oldboyedu ~]# cat /tmp/passwd
root:x:0: 0:root:/root:/bin/bash

bin:x:1:1:bin:/bin:/sbin/nologin
daemon:x:2:2:daemon:/sbin:/sbin/nologin
adm:x:3:4:adm:/var/adm:/sbin/nologin

lp:x:4:7:lp:/var/spool/lpd:/sbin/nologin

sync:x:5:0:sync:/sbin:/bin/sync
shutdown:x:6:0:shutdown:/sbin:/sbin/shutdown
halt:x:7:0:halt:/sbin:/sbin/halt
mail:x:8:12:mail:/var/spool/mail:/sbin/nologin
uucp:x:10:14:uucp:/var/spool/uucp:/sbin/nologin
</code></pre>

<h2 id="toc_18">16.1. 删除文件中的空行及#号开头的行（sed命令）</h2>

<pre><code>sed -r &quot;^$|^#&quot; /tmp/passwd -i
</code></pre>

<h2 id="toc_19">16.2. 替换shutdown为SHUTDOWN</h2>

<pre><code>sed -i &#39;#shutdown#SHUTDOWN#&#39; /tmp/passwd
</code></pre>

<h2 id="toc_20">16.3. 删除头三行</h2>

<pre><code>sed &#39;1,3d&#39; /tmp/passwd -i
</code></pre>

<h1 id="toc_21">17. Shell面试题：根据题意写出对应表达式。</h1>

<h2 id="toc_22">17.1. 判断/data目录是否存在，存在则进入目录并查看文件属性。</h2>

<pre><code>[ -d /data ] &amp;&amp;cd /data&amp;&amp;ls -lh
</code></pre>

<h2 id="toc_23">17.2. 判断/etc/hosts文件是否存在，存在则将文件复制到/tmp目录下。</h2>

<pre><code>[ -f /etc/hosts ] &amp;&amp; cp /etc/hosts /tmp
</code></pre>


			
			
		</div>

	</article>
  

</div>
<nav id="pagenavi">
	 
	
	<div class="center"><a href="archives.html">Blog Archives</a></div>

</nav>

</div>



        </div>
			<footer id="footer" class="inner">Copyright &copy; 2014
Powered by <a target="_blank" href="http://www.mweb.im">MWeb</a> &nbsp;&nbsp; 
Theme by <a href="http://shashankmehta.in/archive/2012/greyshade.html">Shashank Mehta</a>
      </footer>
		</div>
	</div>

  
    



</body>
</html>